<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    
  </style>
</head>

<body>
    <p>132-0803-3621（短横线需要过滤）</p>
    <p>132 0803 3621（短横线需要过滤）</p>
    <p>132-0803-3621@qq.com（短横线不能过滤）</p>
    <form id="form">
      <input value="132 0803 3621" name="tel" id="input" placeholder="邮箱或密码" />
    </form>
  <script>

// 1
function telTrim (str) {
  return str.match(/[0-9]/g).length === 11 && str.replace(/[-\s]/g, '').length === 11 && str.replace(/[-\s]/g, '') || str
}
console.log(telTrim('132-123-23233@qq.com'))
console.log(telTrim('132-123-23233'))
console.log(telTrim('132-123 23233'))

// 2
const myForm = document.getElementById('form')
const myInput = document.getElementById('input')
console.log(myForm, myInput)

// 3
myInput.addEventListener('drop', e => {
  setTimeout(() => {
    myInput.value = telTrim(e.target.value)
  }, 0)
})

// 4
myInput.addEventListener('paste', e => {
  setTimeout(() => {
    myInput.value = telTrim(e.target.value)
  }, 0)
})

// 5
myForm.addEventListener('submit', e => {
  e.preventDefault()
  myInput.value = telTrim(myInput.value)
})
  </script>
</body>

</html>